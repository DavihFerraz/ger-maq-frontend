<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Gestão de Inventário - GAS Ativos</title>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/toastify-js/src/toastify.min.css">
    <link rel="icon" type="image/svg+xml" href="favicon.svg">
</head>
<body>

    <div class="container">
        <a href="dashboard.html" class="btn-voltar">‹ Voltar ao Dashboard</a>

        <div class="header-container">
            <h1>Gestão de Inventário</h1>
            <div class="header-buttons">
                <div id="info-utilizador"></div>
                <button id="btn-mudar-senha">Mudar Palavra-passe</button>
                <button id="btn-logout">Sair</button>
            </div>
        </div>

        <div class="form-container">
            <h2 id="form-title">Nova Associação - Máquina</h2>
            <form id="form-maquina">
                <div class="form-group">
                    <label for="nome-pessoa">Nome da Pessoa e Departamento:</label>
                    <input type="text" id="nome-pessoa" placeholder="Ex: João da Silva - DTI" required>
                </div>
                <div class="form-group">
                    <label for="id-maquina-emprestimo">Máquina Disponível:</label>
                    <select id="id-maquina-emprestimo" required>
                        <option value="" disabled selected>-- Selecione uma máquina disponível --</option>
                    </select>
                </div>
                 <div class="form-group">
                    <label for="id-monitores-emprestimo">Associar Monitores (segure Ctrl/Cmd para selecionar vários):</label>
                    <select id="id-monitores-emprestimo" multiple style="height: 120px;"></select>
                </div>
                <div class="form-buttons">
                    <button type="submit" id="btn-principal">Adicionar Associação</button>
                    <button type="button" id="btn-cancelar" class="btn-cancelar">Cancelar Edição</button>
                </div>
            </form>
        </div>

        <div class="stock-container">
            <details open>
                <summary>Gestão de Estoque de Máquinas</summary>
                <div class="form-container-stock">
                  <h3 id="form-title-stock">Adicionar Nova Máquina ao Estoque</h3>
                  <form id="form-estoque">
                    <div class="form-group">
                        <label for="estoque-modelo">Modelo da Máquina:</label>
                        <select id="estoque-modelo" required>
                            <option value="">-- Selecione um modelo --</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="estoque-patrimonio">Património:</label>
                        <input type="text" id="estoque-patrimonio" placeholder="Ex: 100.001.272.541" required>
                    </div>
                    <div class="form-group">
                        <label for="estoque-processador">Processador:</label>
                        <input type="text" id="estoque-processador" placeholder="Ex: i5-12500">
                    </div>
                    <div class="form-group">
                        <label for="estoque-ram">Memória RAM:</label>
                        <input type="text" id="estoque-ram" placeholder="Ex: 16 GB">
                    </div>
                    <div class="form-group">
                        <label for="estoque-armazenamento">Armazenamento:</label>
                        <input type="text" id="estoque-armazenamento" placeholder="Ex: SSD 512 GB">
                    </div>
                    <div class="form-group">
                        <label for="estoque-setor">Setor:</label>
                        <input type="text" id="estoque-setor" placeholder="Ex: DTI">
                    </div>
                    <div class="form-group">
                        <label for="estoque-observacoes">Observações (Outras Specs):</label>
                        <input type="text" id="estoque-observacoes" placeholder="Ex: Placa de Vídeo, SO, etc.">
                    </div>
                    <div class="form-group">
                        <label for="maquina-cadastrado-gpm">
                            <input type="checkbox" id="maquina-cadastrado-gpm" style="width: auto;">
                            Já cadastrado no GPM?
                        </label>
                    </div>
                    <div class="form-buttons">
                        <button type="submit" id="btn-adicionar-estoque" class="btn-adicionar-estoque">Adicionar ao Estoque</button>
                    </div>
                </form>
                </div>
                <div class="list-container-stock">
                    <h3>Máquinas no Inventário</h3>
                    <div class="search-container">
                        <input type="text" id="campo-busca-estoque" placeholder="Buscar por modelo ou património...">
                    </div>
                    <ul id="lista-estoque"></ul>
                </div>
            </details>
        </div>

        <div class="furniture-container">
            <details>
                <summary>Gestão de Mobiliário</summary>
                <div class="form-container">
                    <h3 id="form-title-furniture">Associar Mobiliário</h3>
                    <form id="form-associar-mobiliario">
                        <div class="form-group">
                            <label for="nome-pessoa-mobiliario">Nome da Pessoa e Departamento:</label>
                            <input type="text" id="nome-pessoa-mobiliario" placeholder="Ex: Maria Eduarda - GAS" required>
                        </div>
                        <div class="form-group">
                            <label for="id-mobiliario-emprestimo">Mobiliário Disponível:</label>
                            <select id="id-mobiliario-emprestimo" required>
                                <option value="" disabled selected>-- Selecione um item disponível --</option>
                            </select>
                        </div>
                        <div class="form-buttons">
                            <button type="submit">Adicionar Associação</button>
                        </div>
                    </form>
                </div>
                <div class="form-container-stock">
                    <h3>Adicionar Novo Mobiliário ao Inventário</h3>
                    <form id="form-mobiliario">
                        <div class="form-group">
                            <label for="mobiliario-tipo">Tipo:</label>
                            <input type="text" id="mobiliario-tipo" placeholder="Ex: Cadeira Giratória" required list="sugestoes-mobiliario">
                            <datalist id="sugestoes-mobiliario"></datalist>
                        </div>
                        <div class="form-group">
                            <label for="mobiliario-patrimonio">Património:</label>
                            <input type="text" id="mobiliario-patrimonio" placeholder="Ex: MOB-00123" required>
                        </div>
                        <div class="form-group">
                            <label for="mobiliario-material">Setor:</label>
                            <input type="text" id="mobiliario-material" placeholder="Ex: GAS">
                        </div>
                        <div class="form-group">
                            <label for="mobiliario-cadastrado-outro-software">
                                <input type="checkbox" id="mobiliario-cadastrado-outro-software" style="width: auto;">
                                Já cadastrado no GPM?
                            </label>
                        </div>
                        <div class="form-buttons">
                            <button type="submit" id="btn-adicionar-estoque" class="btn-adicionar-estoque">Adicionar Mobiliário</button>
                        </div>
                    </form>
                </div>
                <div class="list-container-stock">
                    <h3>Mobiliário no Inventário</h3>
                    <div class="search-container">
                        <input type="text" id="campo-busca-mobiliario" placeholder="Buscar por tipo ou património...">
                    </div>
                    <ul id="lista-mobiliario"></ul>
                </div>
            </details>
        </div>

        <div class="monitor-container">
            <details>
                <summary>Gestão de Estoque de Monitores</summary>
                <div class="form-container-stock">
                  <h3 id="form-title-stock-monitor">Adicionar Novo Monitor ao Estoque</h3>
                  <form id="form-estoque-monitor">
                    <div class="form-group">
                        <label for="monitor-estoque-modelo">Modelo do Monitor:</label>
                        <input type="text" id="monitor-estoque-modelo" placeholder="Ex: Dell U2419H" required>
                    </div>
                    <div class="form-group">
                        <label for="monitor-estoque-setor">Setor:</label>
                        <input type="text" id="monitor-estoque-setor" placeholder="Ex: GAS">
                    </div>
                    <div class="form-group">
                        <label for="monitor-estoque-patrimonio">Património:</label>
                        <input type="text" id="monitor-estoque-patrimonio" placeholder="Ex: 100.001.272.550" required>
                    </div>
                    <div class="form-group">
                        <label for="monitor-cadastrado-gpm">
                            <input type="checkbox" id="monitor-cadastrado-gpm" style="width: auto;">
                            Já cadastrado no GPM?
                        </label>
                    </div>
                    <div class="form-buttons">
                        <button type="submit" class="btn-adicionar-estoque">Adicionar Monitor ao Estoque</button>
                    </div>
                </form>
                </div>
                <div class="list-container-stock">
                    <h3>Monitores no Inventário</h3>
                    <input type="text" id="campo-busca-estoque-monitor" placeholder="Buscar por modelo ou património...">
                    <ul id="lista-estoque-monitores"></ul>
                </div>
            </details>
        </div>

        <div class="form-container-stock" >
            <details>
                <summary style="font-weight: bold; cursor: pointer;">Criar Modelos de Máquina</summary>
                <form id="form-novo-modelo" style="margin-top: 15px;">
                    <h4 id="form-title-stock">Adicionar Novo Modelo</h4>
                    <div class="form-group">
                        <label for="novo-modelo-nome">Nome do Modelo:</label>
                        <input type="text" id="novo-modelo-nome" placeholder="Ex: Dell Optiplex 3080" required>
                    </div>
                    <div class="form-group">
                        <label for="novo-modelo-fabricante">Fabricante:</label>
                        <input type="text" id="novo-modelo-fabricante" placeholder="Ex: Dell">
                    </div>
                    <div class="form-buttons">
                        <button type="submit" class="btn-adicionar-estoque">Adicionar Modelo</button>
                    </div>
                </form>
            </details>
        </div>
        
        <div class="main-sections">
            <a href="lista.html" class="btn-link-pagina">Lista de Associações (Máquinas)</a>
            <a href="lista_mobiliario.html" class="btn-link-pagina">Lista de Associações (Mobiliário)</a>
        </div>
    </div>

    <div id="modal-confirmacao" class="modal-overlay">
        <div class="modal-content">
            <p id="modal-texto">Tem certeza que deseja executar esta ação?</p>
            <div class="modal-buttons">
                <button id="btn-modal-cancelar" class="btn-modal">Cancelar</button>
                <button id="btn-modal-confirmar" class="btn-modal btn-confirmar">Confirmar</button>
            </div>
        </div>
    </div>


    <div id="modal-especificacoes" class="modal-overlay">
    <div class="modal-content">
        <h3 id="spec-modelo">Modelo da Máquina</h3>
        <ul id="spec-lista" class="spec-lista">
            </ul>
        <div class="modal-buttons">
            <button id="btn-spec-fechar" class="btn-modal">Fechar</button>
        </div>
    </div>
</div>

<div id="modal-maquina" class="modal-overlay">
    <div class="modal-content">
        <h3 id="modal-maquina-titulo">Editar Máquina</h3>
        <form id="form-editar-maquina">
            <input type="hidden" id="editar-maquina-id">
            <div class="form-group">
                <label for="editar-maquina-modelo">Modelo:</label>
                <input type="text" id="editar-maquina-modelo" required>
            </div>
            <div class="form-group">
                <label for="editar-maquina-patrimonio">Património:</label>
                <input type="text" id="editar-maquina-patrimonio" required>
            </div>
            <div class="form-group">
                <label for="editar-maquina-processador">Processador:</label>
                <input type="text" id="editar-maquina-processador">
            </div>
            <div class="form-group">
                <label for="editar-maquina-ram">Memória RAM:</label>
                <input type="text" id="editar-maquina-ram">
            </div>
            <div class="form-group">
                <label for="editar-maquina-armazenamento">Armazenamento:</label>
                <input type="text" id="editar-maquina-armazenamento">
            </div>
            <div class="form-group">
                <label for="editar-maquina-setor">Setor:</label>
                <input type="text" id="editar-maquina-setor">
            </div>
            <div class="form-group">
                <label for="editar-maquina-observacoes">Observações (Outras Specs):</label>
                <input type="text" id="editar-maquina-observacoes">
            </div>
            <div class="form-group">
                <label for="editar-maquina-cadastrado-gpm">
                    <input type="checkbox" id="editar-maquina-cadastrado-gpm" style="width: auto;">
                    Já cadastrado no GPM?
                </label>
            </div>
            <div class="modal-buttons">
                <button type="button" class="btn-modal" id="btn-editar-maquina-cancelar">Cancelar</button>
                <button type="submit" class="btn-modal btn-confirmar">Salvar Alterações</button>
            </div>
        </form>
    </div>
</div>

<div id="modal-senha" class="modal-overlay">
    <div class="modal-content">
        <h3>Mudar Palavra-passe</h3>
        <form id="form-mudar-senha">
    <div class="form-group">
        <label for="senha-atual">Palavra-passe Atual:</label>
        <input type="password" id="senha-atual" required>
    </div>
    <div class="form-group">
        <label for="nova-senha">Nova Palavra-passe:</label>
        <input type="password" id="nova-senha" required minlength="6">
    </div>
    <div class="modal-buttons">
        <button type="button" class="btn-modal" id="btn-senha-cancelar">Cancelar</button>
        <button type="submit" class="btn-modal btn-confirmar">Salvar Nova Senha</button>
    </div>
</form>
    </div>
</div>


<div id="modal-mobiliario" class="modal-overlay">
    <div class="modal-content">
        <h3>Editar Mobiliário</h3>
        <form id="form-editar-mobiliario">
            <input type="hidden" id="editar-mobiliario-id">
            <div class="form-group">
                <label for="editar-mobiliario-tipo">Tipo:</label>
                <input type="text" id="editar-mobiliario-tipo" required>
            </div>
            <div class="form-group">
                <label for="editar-mobiliario-patrimonio">Património:</label>
                <input type="text" id="editar-mobiliario-patrimonio" required>
            </div>
            <div class="form-group">
                <label for="editar-mobiliario-setor">Setor:</label>
                <input type="text" id="editar-mobiliario-setor">
            </div>
            <div class="form-group">
                <label>
                    <input type="checkbox" id="editar-mobiliario-cadastrado-gpm" style="width: auto;">
                    Já cadastrado no GPM?
                </label>
            </div>
            <div class="modal-buttons">
                <button type="button" class="btn-modal" id="btn-editar-mobiliario-cancelar">Cancelar</button>
                <button type="submit" class="btn-modal btn-confirmar">Salvar Alterações</button>
            </div>
        </form>
    </div>
</div>

<div id="modal-monitor" class="modal-overlay">
    <div class="modal-content">
        <h3>Editar Monitor</h3>
        <form id="form-editar-monitor">
            <input type="hidden" id="editar-monitor-id">
            <div class="form-group">
                <label for="editar-monitor-modelo">Modelo:</label>
                <input type="text" id="editar-monitor-modelo" required>
            </div>
            <div class="form-group">
                <label for="editar-monitor-patrimonio">Património:</label>
                <input type="text" id="editar-monitor-patrimonio" required>
            </div>
            <div class="form-group">
                <label for="editar-monitor-setor">Setor:</label>
                <input type="text" id="editar-monitor-setor">
            </div>
            <div class="form-group">
                <label>
                    <input type="checkbox" id="editar-monitor-cadastrado-gpm" style="width: auto;">
                    Já cadastrado no GPM?
                </label>
            </div>
            <div class="modal-buttons">
                <button type="button" class="btn-modal" id="btn-editar-monitor-cancelar">Cancelar</button>
                <button type="submit" class="btn-modal btn-confirmar">Salvar Alterações</button>
            </div>
        </form>
    </div>
</div>


    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="script.js" type="module"></script>   
    <script src="api.js" type="module"></script>
    <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/toastify-js"></script>
</body>
</html>